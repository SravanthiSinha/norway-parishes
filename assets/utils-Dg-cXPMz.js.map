{"version":3,"file":"utils-Dg-cXPMz.js","sources":["../../node_modules/@arcgis/core/layers/effects/colorMatrixFunctions.js","../../node_modules/@arcgis/core/layers/effects/effects.js","../../node_modules/@arcgis/core/layers/effects/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{set as t,transpose as r}from\"../../core/libs/gl-matrix-2/math/mat4.js\";const n=(n,o)=>{const s=t(n,o,0,0,0,0,o,0,0,0,0,o,0,0,0,0,1);return r(s,s)},o=(n,o)=>{const s=t(n,o,0,0,.5-.5*o,0,o,0,.5-.5*o,0,0,o,.5-.5*o,0,0,0,1);return r(s,s)},s=(n,o)=>{const s=1-o,c=t(n,.2126+.7874*s,.7152-.7152*s,.0722-.0722*s,0,.2126-.2126*s,.7152+.2848*s,.0722-.0722*s,0,.2126-.2126*s,.7152-.7152*s,.0722+.9278*s,0,0,0,0,1);return r(c,c)},c=(n,o)=>{const s=Math.sin(o*Math.PI/180),c=Math.cos(o*Math.PI/180),e=t(n,.213+.787*c-.213*s,.715-.715*c-.715*s,.072-.072*c+.928*s,0,.213-.213*c+.143*s,.715+.285*c+.14*s,.072-.072*c-.283*s,0,.213-.213*c-.787*s,.715-.715*c+.715*s,.072+.928*c+.072*s,0,0,0,0,1);return r(e,e)},e=(n,o)=>{const s=1-2*o,c=t(n,s,0,0,o,0,s,0,o,0,0,s,o,0,0,0,1);return r(c,c)},a=(n,o)=>{const s=t(n,.213+.787*o,.715-.715*o,.072-.072*o,0,.213-.213*o,.715+.285*o,.072-.072*o,0,.213-.213*o,.715-.715*o,.072+.928*o,0,0,0,0,1);return r(s,s)},u=(n,o)=>{const s=1-o,c=t(n,.393+.607*s,.769-.769*s,.189-.189*s,0,.349-.349*s,.686+.314*s,.168-.168*s,0,.272-.272*s,.534-.534*s,.131+.869*s,0,0,0,0,1);return r(c,c)};export{n as brightness,o as contrast,s as grayscale,e as invert,c as rotateHue,a as saturate,u as sepia};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getNamedColor as t}from\"../../colorUtils.js\";import{px2pt as s}from\"../../core/screenUtils.js\";import{create as r}from\"../../core/libs/gl-matrix-2/factories/mat4f32.js\";import{sepia as o,saturate as e,invert as i,grayscale as a,contrast as h,brightness as n,rotateHue as u}from\"./colorMatrixFunctions.js\";class c{constructor(t,s,r){this.strength=t,this.radius=s,this.threshold=r,this.type=\"bloom\"}interpolate(t,s,r){this.strength=M(t.strength,s.strength,r),this.radius=M(t.radius,s.radius,r),this.threshold=M(t.threshold,s.threshold,r)}clone(){return new c(this.strength,this.radius,this.threshold)}toJSON(){return{type:\"bloom\",radius:y(this.radius),strength:this.strength,threshold:this.threshold}}}class l{constructor(t){this.radius=t,this.type=\"blur\"}interpolate(t,s,r){this.radius=Math.round(M(t.radius,s.radius,r))}clone(){return new l(this.radius)}toJSON(){return{type:\"blur\",radius:y(this.radius)}}}class p{constructor(t,s){this.type=t,this.amount=s,\"invert\"!==this.type&&\"grayscale\"!==this.type&&\"sepia\"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,s,r){this.amount=M(t.amount,s.amount,r),this._updateMatrix()}clone(){return new p(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||r();switch(this.type){case\"brightness\":this._colorMatrix=n(t,this.amount);break;case\"contrast\":this._colorMatrix=h(t,this.amount);break;case\"grayscale\":this._colorMatrix=a(t,this.amount);break;case\"invert\":this._colorMatrix=i(t,this.amount);break;case\"saturate\":this._colorMatrix=e(t,this.amount);break;case\"sepia\":this._colorMatrix=o(t,this.amount)}}}class d{constructor(t,s,r,o){this.offsetX=t,this.offsetY=s,this.blurRadius=r,this.color=o,this.type=\"drop-shadow\"}interpolate(t,s,r){this.offsetX=M(t.offsetX,s.offsetX,r),this.offsetY=M(t.offsetY,s.offsetY,r),this.blurRadius=M(t.blurRadius,s.blurRadius,r),this.color[0]=Math.round(M(t.color[0],s.color[0],r)),this.color[1]=Math.round(M(t.color[1],s.color[1],r)),this.color[2]=Math.round(M(t.color[2],s.color[2],r)),this.color[3]=M(t.color[3],s.color[3],r)}clone(){return new d(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:\"drop-shadow\",xoffset:y(this.offsetX),yoffset:y(this.offsetY),blurRadius:y(this.blurRadius),color:t}}}class m{constructor(t){this.angle=t,this.type=\"hue-rotate\"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,s,r){this.angle=M(t.angle,s.angle,r),this._updateMatrix()}clone(){return new m(this.angle)}toJSON(){return{type:\"hue-rotate\",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||r();this._colorMatrix=u(t,this.angle)}}class f{constructor(t){this.amount=t,this.type=\"opacity\",this.amount=Math.min(this.amount,1)}interpolate(t,s,r){this.amount=M(t.amount,s.amount,r)}clone(){return new f(this.amount)}toJSON(){return{type:\"opacity\",amount:this.amount}}}function M(t,s,r){return t+(s-t)*r}function y(t){return Math.round(1e3*s(t))/1e3}function x(s){switch(s.type){case\"grayscale\":case\"sepia\":case\"invert\":return new p(s.type,0);case\"saturate\":case\"brightness\":case\"contrast\":return new p(s.type,1);case\"opacity\":return new f(1);case\"hue-rotate\":return new m(0);case\"blur\":return new l(0);case\"drop-shadow\":return new d(0,0,0,[...t(\"transparent\")]);case\"bloom\":return new c(0,0,1)}}export{c as BloomEffect,l as BlurEffect,p as ColorMatrixEffect,d as DropShadowEffect,m as HueRotateEffect,f as OpacityEffect,x as createEffectWithInitialValues};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{createEffectWithInitialValues as n}from\"./effects.js\";function t(n,t){const e=n.length>t.length?n:t;return(n.length>t.length?t:n).every(((n,t)=>n.type===e[t].type))}function e(t,e){const l=t.length>e.length?t:e,r=t.length>e.length?e:t;for(let g=r.length;g<l.length;g++)r.push(n(l[g]))}function l(n){const t=n[0];return!!t&&\"type\"in t}function r(n,t){return JSON.stringify(n??null)===JSON.stringify(t??null)}export{t as canInterpolateEffects,r as effectEquals,l as isEffectFunctions,e as normalizeEffects};\n"],"names":["n","o","t","r","s","c","e","a","u","M","y","l$1","l","p","h","i","d","m","f","x","g"],"mappings":"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","x_google_ignoreList":[0,1,2]}